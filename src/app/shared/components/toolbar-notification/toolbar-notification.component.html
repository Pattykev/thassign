<h1 mat-dialog-title>Notifications</h1>

<div mat-dialog-content>
  <div
    *ngIf="notifications?.length !== 0; then: thenBlock; else: elseBlock"
  ></div>
</div>
<div mat-dialog-actions>
  <button mat-button (click)="messageService.clear()">Clear</button>
</div>

<ng-template #thenBlock>
  <!-- <perfect-scrollbar class="content"> -->
  <!-- <app-messages></app-messages> -->
  <!--
    <div *ngFor="let notification of notifications; last as isLast">
      <div
        class="notification"
        fxLayout="row"
        fxLayoutAlign="start center"
        mat-ripple
        (click)="selectNotification(notification)"
      >

        <mat-icon class="icon">notifications</mat-icon>
        <div class="title" fxLayout="column">
          <div class="name">{{ notification.title }}</div>
          <div class="time">{{ notification.lastTime }}</div>
        </div>
        <span fxFlex></span>
        <button
          type="button"
          mat-icon-button
          (click)="deleteNotification(notification)"
        >
          <mat-icon class="close">close</mat-icon>
        </button>
      </div>

      <mat-divider *ngIf="!isLast"></mat-divider>
    </div>
  -->
  <mat-list dense>
    <mat-list-item *ngFor="let notification of notifications; last as isLast">
      <mat-icon matListIcon class="icon">notifications</mat-icon>
      <h3 matLine (click)="selectNotification(notification)">
        {{ notification.title }}
      </h3>
      <p matLine (click)="selectNotification(notification)">
        {{ notification.lastTime }}
      </p>
      <mat-action-list>
        <button mat-list-item (click)="deleteNotification(notification)">
          <mat-icon class="close">close</mat-icon>
        </button>
      </mat-action-list>
    </mat-list-item>
  </mat-list>
  <!-- </perfect-scrollbar> -->
</ng-template>

<ng-template #elseBlock>
  <div *ngIf="messageService.messages.length">
    <div *ngFor="let message of messageService.messages">{{ message }}</div>
  </div>
</ng-template>
